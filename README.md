<div align="center">
  <img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_05_633d79e401694.png" alt="">
  <h1>PicHoro</h1>
  <a href="https://github.com/Kuingsmile/PicHoro/releases">
    <img src="https://img.shields.io/github/downloads/Kuingsmile/PicHoro/total.svg?style=flat-square" alt="">
  </a>
  <a href="https://github.com/Kuingsmile/PicHoro/releases/latest">
    <img src="https://img.shields.io/github/release/Kuingsmile/PicHoro.svg?style=flat-square" alt="">
  </a>
  <a href="https://github.com/Kuingsmile/PicHoro">
     <img src="https://img.shields.io/github/stars/Kuingsmile/PicHoro.svg?style=flat-square" alt="">
     </a>
</div>

&emsp;&emsp;一款基于flutter的手机端云存储平台/图床管理和文件上传/下载工具，最新版本**V1.9.0**，与PicGo配置互通，可直接扫码导入，主要功能包括云存储平台和图床平台,以及云服务器的管理，文件上传和下载管理，以及各种格式的链接分享。

&emsp;&emsp;项目介绍和配置手册网址:

&emsp;&emsp;[https://pichoro.horosama.com](https://pichoro.horosama.com)

&emsp;&emsp;目前已支持如下图床：

- [X] 兰空图床V2 (上传/相册-**V1.00**，文件管理-**V1.87**)
- [X] SM.MS (上传/相册-**V1.41**，文件管理-**V1.81**)
- [X] Github (上传/相册-**V1.55**，文件管理-**V1.89**)
- [X] Imgur (上传/相册-**V1.60**，文件管理-**V1.90**)
- [X] 七牛云存储 (上传/相册-**V1.65**，文件管理-**V1.86**)
- [X] 腾讯云COS V5 (上传/相册-**V1.70**，文件管理-**V1.80**)
- [X] 阿里云OSS (上传/相册-**V1.75**，文件管理-**V1.84**)
- [X] 又拍云存储 (上传/相册-**V1.75**，文件管理-**V1.85**)
- [X] FTP-SSH/SFTP (上传/相册-**V1.90**，文件管理-**V1.90**)

## 特色功能

- **支持直接管理云存储平台和图床，包括新建/删除/修改存储桶，创建/删除目录和文件，上传和下载文件和照片等**
- **支持SSH/SFTP，可视化管理文件，内置SSH终端可直接管理云服务器**
- **支持扫描二维码将PicGo(v2.3.0-beta.2以上版本)配置文件直接导入PicHoro**
- 连续上传模式，相机拍照后自动上传然后返回拍照页面，可连续拍照上传
- 可导入剪贴板中的网络图片链接，同时使用换行符分割多个链接可批量导入
- 上传图片后自动复制链接到剪贴板，多图上传时全部复制
- 支持自定义复制到剪贴板的链接格式，占位符与Picgo一致
- 上传时可对文件重命名，目前有时间戳，随机字符串和自定义重命名三种方式，自定义重命名可使用多种占位符，如uuid，时间戳，md5等
- 相册分图床显示，支持多选管理，复制多张图片链接或删除
- 支持将PicHoro的配置导出至剪贴板，导出格式与PicGo配置文件相同，可直接导入PicGo
- 可查看和导出软件日志，快捷查找问题和报告bug

## 下载

### 安卓

Github下载地址 [Github release](https://github.com/Kuingsmile/PicHoro/releases)  

我的个人网站提供的最新版本下载地址 [https://www.horosama.com/self_apk/PicHoro_V1.9.0.apk](https://www.horosama.com/self_apk/PicHoro_V1.9.0.apk)

### IOS

由于个人没有Mac和开发者账号，暂时无法提供IOS版本，如果有人愿意帮忙开发IOS版本，可以联系我，我会提供相关的技术支持。

## 应用截图

<table rules="none">
  <tr>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_28_635bdaa1381c4.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_28_635bdbc4b1817.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/11/2022_11_16_6374742f6c0e0.jpg" width="200" height="400" alt=""/></td>
  </tr>
   <tr>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_15_634a630aa7563.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_15_634a63099d33d.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_15_634a630b8b481.jpg" width="200" height="400" alt=""/></td>
  </tr>
   <tr>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/11/2022_11_16_6374742c9b51d.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_24_6356546ee6731.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_24_6356548f45f14.jpg" width="200" height="400" alt=""/></td>
  </tr>
  <tr>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_24_6356546e1bc43.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/10/2022_10_24_6356548e77bfb.jpg" width="200" height="400" alt=""/></td>
    <td><img src="http://imgx.horosama.com/admin_uploads/2022/11/2022_11_08_636a348b8ec26.jpg" width="200" height="400" alt=""/></td>
  </tr>
</table>

## 最近更新

  详细更新日志请查看[更新日志](https://github.com/Kuingsmile/PicHoro/blob/main/Version_update_log.md "更新日志")

- 2022-11-16: **V1.90**:

  - 新增：新增了对**Imgur**管理功能的支持。
    - 图片查看时使用CDN进行了加速，避免图片加载过慢或失败。
  - 新增：新增了对**FTP**和**SSH/SFTP**上传、相册、管理功能的支持,可匿名或SSH登录服务器管理文件，另外作为补充，内置了**SSH终端**，可直接管理**云服务器**。
    - 由于一般情况下普通FTP功能限制较多，能做到的操作不多，因此管理功能仅支持SFTP方式。
    - 禁止了对文件名包含 `*#?` 等特殊字符的文件的删除操作，防止出现意外情况。
    - 由于服务器操作的敏感性，APP内仅实现了一些安全操作，其它操作请使用内置**SSH终端**进行。
    - 为了解决FTP文件上图片无法直接预览的问题，在上传时会自动生成一份图片缩略图保存于缓存目录下用于相册内查看，在从相册中删除图片时会自动删除缓存目录下的缩略图。
    - 缩略图保存路径为`手机存储/Android/data/com.example.horopic/cache/ftp/`，可根据需要自行删除。
    - 管理功能针对普通目录和文件，为避免混乱，不支持软链接等特殊类型文件,如需管理软链接等特殊类型文件，请使用内置**SSH终端**。
    - 支持选择管理功能入口目录，方便快速进入指定目录。
  - 新增：Github和SSH/SFTP管理页面现在支持预览markdown文件。
  - 新增：图床配置导出增加了**导出全部**的选项。
  - 新增：修改了图片上传和删除时保存配置信息的逻辑，现在会在本地数据库保存每一张图片上传时对应的图床配置，这样即使上传后修改了图床配置，仍然可以正常删除云端图片，同时为后续的一个图床多套配置功能做准备。
  - 新增：上传页面和相册页面顶部栏增加了配置按钮，方便快速修改常用配置。
  - 优化：现在浏览本地文件时如果目标已被删除会显示空白提示页面。
  - 优化：一些UI优化，包括如下：
    - 本地图片预览修改为页面居中显示。
    - 首页和相册页面的图床选择弹出栏的的顺序调整为图床首字母字典序。
    - 图床配置和默认图床选择页面的顺序调整为图床首字母字典序。
    - 更新日志界面现在支持跳转链接和选择文字。
  - 修复：修复了在配置页面修改默认图床和单独图床配置页面内设置为默认图床后，上传页面弹出栏显示的默认图床和相册页面显示的图床没有同步更新的问题。
  - 修复：修复了兰空图床管理页面内删除相册后，后续的部分文件会被错误显示为文件夹的问题。

- 2022-10-02: **V1.00**:
  - 项目初始化，完成基本的上传功能，目前仅支持兰空图床，需要手动授予存储和相机权限

## 开发交流

开发进度可以查看 [Projects](https://github.com/Kuingsmile/PicHoro/projects)，会同步更新开发进度。

欢迎加入 [Github讨论区](https://github.com/Kuingsmile/PicHoro/discussions) 与我交流。

遇到Bug或有好的建议可以在 [Github Issues](https://github.com/Kuingsmile/PicHoro/issues) 中提出。

## 开发说明

### 软件修改

如果你想要修改或自行构建 PicHoro，可以依照下面的指示：

1. 你需要有 Android Studio和 Android SDK 21+ 的环境，并安装了Flutter 3.0+版本。flutter环境配置可以参考 [Flutter 官方文档](https://flutter.dev/docs/get-started/install)。
2. `git clone https://github.com/Kuingsmile/PicHoro.git` 并进入项目。
3. Windows 推荐使用VScode编辑和调试代码。

### 软件打包

如果你需要自行构建，可以使用 `flutter build apk` 或者 进入 `android` 目录，使用 `gradlew assembleRelease` 命令构建。
构建成功后，会在 `build\app\outputs\apk\release` 目录下生成 `app-release.apk` 文件。

## License

[MIT](https://opensource.org/licenses/MIT)

Copyright (c) 2022 Kuingsmile
